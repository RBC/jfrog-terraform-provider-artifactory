---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "artifactory_backup Resource - terraform-provider-artifactory"
subcategory: "Configuration"
description: |-
  This resource can be used to manage the automatic and periodic backups of the entire Artifactory instance.
  When an artifactory_backup resource is configured and enabled to true, backup of the entire Artifactory system will be done automatically and periodically.
  The backup process creates a time-stamped directory in the target backup directory.
  See JFrog Artifactory Backup https://www.jfrog.com/confluence/display/JFROG/Backups for more details.
  ~>Only supported in self-hosted environment.
---

# artifactory_backup (Resource)

This resource can be used to manage the automatic and periodic backups of the entire Artifactory instance.

When an `artifactory_backup` resource is configured and enabled to true, backup of the entire Artifactory system will be done automatically and periodically.

The backup process creates a time-stamped directory in the target backup directory.

See [JFrog Artifactory Backup](https://www.jfrog.com/confluence/display/JFROG/Backups) for more details.

~>Only supported in self-hosted environment.

## Example Usage

```terraform
resource "artifactory_backup" "backup_config_name" {
  key                       = "backup_config_name"
  enabled                   = true
  cron_exp                  = "0 0 12 * * ? *"
  retention_period_hours    = 1000
  excluded_repositories     = ["my-docker-local"]
  create_archive            = false
  exclude_new_repositories  = true
  send_mail_on_error        = true
  verify_disk_space         = true
  export_mission_control    = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cron_exp` (String) A valid CRON expression that you can use to control backup frequency. Eg: `0 0 12 * * ? *`, `0 0 2 ? * MON-SAT *`. **Note:** please use 7 character format - Seconds, Minutes Hours, Day Of Month, Month, Day Of Week, Year. Also, specifying both a day-of-week AND a day-of-month parameter is not supported. One of them should be replaced by `?`. Incorrect: `* 5,7,9 14/2 * * WED,SAT *`, correct: `* 5,7,9 14/2 ? * WED,SAT *`. See details in [Cron Trigger Tutorial](http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html) and in [Cronexp package readme](https://github.com/gorhill/cronexpr#other-details).
- `key` (String)

### Optional

- `create_archive` (Boolean) If set to true, backups will be created within a Zip archive (Slow and CPU intensive). Default value is `false`
- `enabled` (Boolean) Flag to enable or disable the backup config. Default value is `true`.
- `exclude_new_repositories` (Boolean) When set to true, new repositories will not be automatically added to the backup. Default value is `false`.
- `excluded_repositories` (List of String) List of excluded repositories from the backup.
- `export_mission_control` (Boolean) When set to true, mission control will not be automatically added to the backup. Default value is `false`.
- `retention_period_hours` (Number) The number of hours to keep a backup before Artifactory will clean it up to free up disk space. Applicable only to non-incremental backups. Default value is 168 hours i.e. 7 days.
- `send_mail_on_error` (Boolean) If set to true, all Artifactory administrators will be notified by email if any problem is encountered during backup. Default value is `true`.
- `verify_disk_space` (Boolean) If set, Artifactory will verify that the backup target location has enough disk space available to hold the backed up data. If there is not enough space available, Artifactory will abort the backup and write a message in the log file. Applicable only to non-incremental backups. Default value is `false`.

## Import

Import is supported using the following syntax:

```shell
terraform import artifactory_backup.backup_name backup_name
```
